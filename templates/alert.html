<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .container{
        width: 50vw;
        height: 500px;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
{% if message %}
<div class="container mt-5">
    <div class="alert alert-{{ alert_type }} alert-dismissible fade show text-center" role="alert">
        <strong>{{ message }}</strong>

        <!-- Close button -->
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>

        <!-- Progress bar -->
        <div class="progress mt-3" style="height: 6px;">
            <div id="redirectProgress"
                 class="progress-bar bg-{{ alert_type }}"
                 role="progressbar"
                 style="width: 0%">
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    let progress = 0;
    const bar = document.getElementById("redirectProgress");

    const interval = setInterval(() => {
        progress += 2;
        bar.style.width = progress + "%";

        if (progress >= 100) {
            clearInterval(interval);
            if("{{ redirect_url }}"=="/"){
                window.location.href = "{{ redirect_url }}";
            }
            else{
                window.location.href = "{{ redirect_url }}?booking_id={{ booking_id }}";
            }
        }
    }, 100); // 2.5 seconds total
});
</script>
{% endif %}
